
## 1. 测试环境
```
192.168.198.20 -- 以下简称 host-20 -- centos 7
192.168.198.60 -- 以下简称 host-60 -- ubuntu 22.04
```

## 2. 在 host-60 上 启动代理
```
sudo snap install core;                            # 安装 gost
sudo snap install gost;
sudo firewall-cmd --list-all;                      # 查看开启的服务
sudo firewall-cmd --permanent --add-port=8001/tcp; # 添加防火墙端口号
sudo firewall-cmd --permanent --add-port=8002/tcp;
sudo firewall-cmd --permanent --add-port=8003/tcp;
sudo firewall-cmd --permanent --add-port=8004/tcp;
sudo firewall-cmd --reload;                        # 重新加载防火墙
sudo firewall-cmd --list-all;                      # 再次查看开启的服务
gost -L :8001 -L admin:123456@:8002 -L https://:8003 -L https://admin:123456@:8004 -F https://yunbinliu:lyb2636196546@yunbinliu.com:443;                                 # 启动代理
```

## 3. http 访问使用代理
### 3.1 socks5h 代理
```
git config --global http.proxy socks5h://host-60:8001
git clone https://github.com/liuyunbin/note
git config --global --unset http.proxy

git config --global http.proxy socks5h://admin:123456@host-60:8002
git clone https://github.com/liuyunbin/note
git config --global --unset http.proxy
```

### 3.2 http 代理
```
git config --global http.proxy http://host-60:8001
git clone https://github.com/liuyunbin/note
git config --global --unset http.proxy

git config --global http.proxy http://admin:123456@host-60:8001
git clone https://github.com/liuyunbin/note
git config --global --unset http.proxy
```

### 3.3 https 代理 --- 貌似不支持
```
git config --global http.proxy https://host-60:8003
git clone https://github.com/liuyunbin/note
git config --global --unset http.proxy

git config --global http.proxy https://admin:123456@host-60:8004
git clone https://github.com/liuyunbin/note
git config --global --unset http.proxy
```

## 4. ssh 访问使用代理 --- centos 7
### 4.1 socks5 代理
```
在 ~/.ssh/config 里添加如下配置
    Host github.com
    ProxyCommand nc --proxy-type socks5 --proxy host-60:8001 %h %p
git clone git@github.com:liuyunbin/note; # 测试

在 ~/.ssh/config 里添加如下配置
    Host github.com
    ProxyCommand nc --proxy-type socks5 --proxy host-60:8002 --proxy-auth admin:123456 %h %p
git clone git@github.com:liuyunbin/note; # 测试
```

### 4.2 http 代理
```
在 ~/.ssh/config 里添加如下配置
    Host github.com
    ProxyCommand nc --proxy-type http --proxy host-60:8001 %h %p
git clone git@github.com:liuyunbin/note; # 测试

在 ~/.ssh/config 里添加如下配置
    Host github.com
    ProxyCommand nc --proxy-type http --proxy host-60:8002 --proxy-auth admin:123456 %h %p
git clone git@github.com:liuyunbin/note; # 测试
```

### 4.3 https --- 貌似不支持
```
在 ~/.ssh/config 里添加如下配置
    Host github.com
    ProxyCommand nc --proxy-type http --proxy host-60:8003 %h %p
git clone git@github.com:liuyunbin/note; # 测试

在 ~/.ssh/config 里添加如下配置
    Host github.com
    ProxyCommand nc --proxy-type http --proxy host-60:8004 --proxy-auth admin:123456 %h %p
git clone git@github.com:liuyunbin/note; # 测试
```

## 5. ssh 访问使用代理 --- ubuntu 24.04
### 5.1 socks5 代理
```
在 ~/.ssh/config 里添加如下配置
    Host github.com
    ProxyCommand nc -X 5 -x host-60:8001 %h %p
git clone git@github.com:liuyunbin/note; # 测试

在 ~/.ssh/config 里添加如下配置 ----------- 不支持
    Host github.com
    ProxyCommand nc -X 5 -x host-60:8002 -P admin %h %p
git clone git@github.com:liuyunbin/note; # 测试
```

### 5.2 http 代理
```
在 ~/.ssh/config 里添加如下配置
    Host github.com
    ProxyCommand nc -X connect -x host-60:8001 %h %p
git clone git@github.com:liuyunbin/note; # 测试

在 ~/.ssh/config 里添加如下配置
    Host github.com
    ProxyCommand nc -X connect -x host-60:8002 -P admin %h %p
git clone git@github.com:liuyunbin/note; # 测试 --- 需要输入密码
```

### 5.3 https 代理 --- 貌似不支持
```
在 ~/.ssh/config 里添加如下配置
    Host github.com
    ProxyCommand nc -X connect -x host-60:8003 %h %p
git clone git@github.com:liuyunbin/note; # 测试

在 ~/.ssh/config 里添加如下配置
    Host github.com
    ProxyCommand nc -X connect -x host-60:8004 -P admin %h %p
git clone git@github.com:liuyunbin/note; # 测试 --- 需要输入密码
```

## 6. ssh 访问使用代理 --- windows
### 6.1 socks5 代理
```
在 ~/.ssh/config 里添加如下配置
    Host github.com
    ProxyCommand connect -S host-60:8001 %h %p
git clone git@github.com:liuyunbin/note; # 测试

在 ~/.ssh/config 里添加如下配置 --- 貌似有问题
    Host github.com
    ProxyCommand connect -S admin@host-60:8002 %h %p
git clone git@github.com:liuyunbin/note; # 测试
```

### 6.2 http 代理
```
在 ~/.ssh/config 里添加如下配置
    Host github.com
    ProxyCommand connect -H host-60:8001 %h %p
git clone git@github.com:liuyunbin/note; # 测试

在 ~/.ssh/config 里添加如下配置 --- 貌似有问题
    Host github.com
    ProxyCommand connect -H admin:123456@host-60:8002 %h %p
git clone git@github.com:liuyunbin/note; # 测试
```

### 6.3 https 代理 --- 貌似不支持
```
在 ~/.ssh/config 里添加如下配置
    Host github.com
    ProxyCommand connect -H host-60:8003 %h %p
git clone git@github.com:liuyunbin/note; # 测试

在 ~/.ssh/config 里添加如下配置
    Host github.com
    ProxyCommand connect -H admin:123456@host-60:8004 %h %p
git clone git@github.com:liuyunbin/note; # 测试
```

