
mysql -D <库名> -h <域名> -u <用户名> -p<密码>  # 登录
myqsl -D testdb < 1.sql                         # 从文件导入
mysqldump database_name table_name > 1.sql      # 导出到文件
select .. into outfile .. fields terminated by ',' optionally enclosed by '"' lines terminated by '\n' from ..
                                                # 保存数据到文件

set global max_allowed_packet=64*1024*1024 # 设置插入的上限

select user,host,passwd from mysql.user; # 查看用户 密码

show   databases;                                                        # 查看数据库
use    testdb;                                                           # 使用数据库
create database testdb character set utf8mb4 collate utf8mb4_unicode_ci; # 创建数据库
alter  database testdb character set utf8mb4 collate utf8mb4_unicode_ci; # 修改数据库
drop   database testdb;                                                  # 删除数据库

show tables;             # 查看表
desc ......;             # 查看表结构
create   table 表名称(); # 创建表
alter table 表名称 add       列名称 列属性 after 旧名称; # 修改表, 增加列
alter table 表名称 change  旧列名称 新列名称 列属性;     # 修改表, 修改列名称
alter table 表名称 modify    列名称 列属性;              # 修改表, 修改列属性
alter table 表名称 drop      列名称;                     # 修改表, 删除列
alter table 表名称 rename  新表名称;                     # 修改表, 重命名表名
drop     table 表名称;   # 删除表
delete   table 表名称;   # 删除表内数据, 表结构保留
truncate table 表名称;   # 删除表内数据, 表结构保留

tinyint ----- 一个字节
smallint ---- 两个字节
mediumint --- 三个字节
int --------- 四个字节
bigint ------ 八个字节
float ------- 四个字节
double ------ 八个字节

datetime ---- 八个字节 年月日 时分秒
date -------- 三个字节 年月日
timestamp --- 四个字节 时间戳
time -------- 三个字节 时分秒
year -------- 一个字节 年

char ---------- 定长字符串(括号里表示字符个数)
varchar ------- 变长字符串(括号里表示字符个数)

auto_increment

primary key: 主键, 唯一, 不能为空, 只能有一个主键, 加索引
unique  index: 唯一, 能有多个, 加索引
foreign index: 外键, 加索引
        index: 普通索引

书写: select -> distinct -> from -> where -> group by -> having -> order by -> limit
执行: from -> where -> group by(此后可以使用聚合) -> having -> select -> distinct -> order by -> limit

update table_name set ...=... where ...

insert into table_name () values ();

delete from table_name where ...

and or not
in, not in,
is null, is not null, <=>(相等或都为null)
between ... and ...,
like(%表示任意字符),
regexp, rlike

order by .... DESC

union, union all

inner join
left  join
right join

current_timestamp()
current_date()
now()

trigger 触发器

create index 索引名称  表名(字段名称)            # 创建索引
alter table 表名称 add  index 索引名称(字段名称) # 创建索引
drop index 索引名称 on 表名                      # 删除索引

## 修改字符集为 utf8mb4
原因
    mysql 中 utf8 最多使用三个字节 utf8mb4 最多使用四个字节
    标准的 UTF-8 最多使用四个字节, 所以 mysql 中应该使用 utf8mb4

查看数据库编码: show variables like 'character%';
    character_set_client      # 客户端发送请求使用的字符集
    character_set_connection  # 将客户端的请求转化成的字符集
    character_set_results     # 返回客户端数据的字符集

    character_set_database    # 数据库默认使用的字符集
    character_set_filesystem  # 存储为文件时使用
    character_set_server      # 服务器内部使用的字符集
    character_set_system      # 内部用, 无法更改

修改:
1. 查找配置文件: mysqld --help --verbose 2> /dev/null | grep -A1 'Default options'
2. 在相关文件内添加以下内容:
    [client]
    default-character-set = utf8mb4

    [mysql]
    default-character-set = utf8mb4

    [mysqld]
    character-set-server = utf8mb4
    collation-server = utf8mb4_unicode_ci
3. 停止 mysql 服务: pkill mysql
4. 启动: mysqld --user=root &

